# adm_training_task4
<h1 align="center">Занятие 4. Практические навыки работы с ZFS</h1>
<h3 class="western"><a name="_heading=h.h6i87lkp3f19"></a> <span style="font-family: Roboto, serif;"><span style="font-size: small;">Описание домашнего задания</span></span></h3>
<ol>
<li style="font-weight: 400;"><span style="font-weight: 400;">Определить алгоритм с наилучшим сжатием:</span></li>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">Определить, какие алгоритмы сжатия поддерживает zfs (gzip, zle, lzjb, lz4);</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">создать 4 файловых системы, на каждой применить свой алгоритм сжатия;</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">для сжатия использовать либо текстовый файл, либо группу файлов.</span></li>
</ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">Определить настройки пула.</span></li>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">С помощью команды zfs import собрать pool ZFS.</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Командами zfs определить настройки:</span></li>
<p><span style="font-weight: 400;">&nbsp;&nbsp;&nbsp;&nbsp;- размер хранилища;</span></p>
<p><span style="font-weight: 400;">&nbsp;&nbsp;&nbsp;&nbsp;- тип pool;</span></p>
<p><span style="font-weight: 400;">&nbsp;&nbsp;&nbsp;&nbsp;- значение recordsize;</span></p>
<p><span style="font-weight: 400;">&nbsp;&nbsp;&nbsp;&nbsp;- какое сжатие используется;</span></p>
<p><span style="font-weight: 400;">&nbsp;&nbsp;&nbsp;&nbsp;- какая контрольная сумма используется.</span></p>
</ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">Работа со снапшотами:</span></li>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">скопировать файл из удаленной директории;</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">восстановить файл локально. zfs receive;</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">найти зашифрованное сообщение в файле secret_message.</span></li>
</ul>
</ol>
<p style="line-height: 100%; margin-bottom: 0cm;">&nbsp;</p>
<h3 class="western"><a name="_heading=h.df570rpzx1qg"></a><span style="font-family: Roboto, serif;"><span style="font-size: small;">Используемые ОС</span></span></h3>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Хостовая ОС: Ubuntu 24.04 Desktop, гостевая система Ubuntu 24.04 Server. VirtualBox версия 7.0.16_Ubuntu r162802</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<h3 class="western"><span style="font-family: Roboto, serif;"><span style="font-size: small;">Выполнение</span></span></h3>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Добавляем в виртуальную машину 8 дополнительных дисков по 512 MB.</span></span></p>
<img width="639" height="382" alt="изображение" src="https://github.com/user-attachments/assets/726ad2a4-756d-4c25-83dd-f2acbf402666" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">1) Определение алгоритма с наилучшим сжатием</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Создаём пул из двух дисков /dev/sdb и /dev/sdc в режиме RAID1:</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">zpool create zfstest1 mirror /dev/sdb /dev/sdc</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Аналогично еще три пула:</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">zpool create zfstest2 mirror /dev/sdd /dev/sde</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">zpool create zfstest3 mirror /dev/sdf /dev/sdg</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">zpool create zfstest4 mirror /dev/sdh /dev/sdi</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Смотрим информацию о пулах: zpool list; zpool status</span></span></p>
<p>root@training:~# zpool list; zpool status<br />NAME&nbsp; &nbsp; &nbsp; &nbsp;SIZE&nbsp; ALLOC&nbsp; &nbsp;FREE&nbsp; CKPOINT&nbsp; EXPANDSZ&nbsp; &nbsp;FRAG&nbsp; &nbsp; CAP&nbsp; DEDUP&nbsp; &nbsp; HEALTH&nbsp; ALTROOT<br />zfstest1&nbsp; &nbsp;480M&nbsp; &nbsp;114K&nbsp; &nbsp;480M&nbsp; &nbsp; &nbsp; &nbsp; -&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&nbsp; &nbsp; &nbsp;0%&nbsp; &nbsp; &nbsp;0%&nbsp; 1.00x&nbsp; &nbsp; ONLINE&nbsp; -<br />zfstest2&nbsp; &nbsp;480M&nbsp; &nbsp;114K&nbsp; &nbsp;480M&nbsp; &nbsp; &nbsp; &nbsp; -&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&nbsp; &nbsp; &nbsp;0%&nbsp; &nbsp; &nbsp;0%&nbsp; 1.00x&nbsp; &nbsp; ONLINE&nbsp; -<br />zfstest3&nbsp; &nbsp;480M&nbsp; &nbsp;116K&nbsp; &nbsp;480M&nbsp; &nbsp; &nbsp; &nbsp; -&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&nbsp; &nbsp; &nbsp;0%&nbsp; &nbsp; &nbsp;0%&nbsp; 1.00x&nbsp; &nbsp; ONLINE&nbsp; -<br />zfstest4&nbsp; &nbsp;480M&nbsp; &nbsp;116K&nbsp; &nbsp;480M&nbsp; &nbsp; &nbsp; &nbsp; -&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&nbsp; &nbsp; &nbsp;0%&nbsp; &nbsp; &nbsp;0%&nbsp; 1.00x&nbsp; &nbsp; ONLINE&nbsp; -<br />&nbsp; pool: zfstest1<br />&nbsp;state: ONLINE<br />config:<br /><br />&nbsp; &nbsp; NAME&nbsp; &nbsp; &nbsp; &nbsp; STATE&nbsp; &nbsp; &nbsp;READ WRITE CKSUM<br />&nbsp; &nbsp; zfstest1&nbsp; &nbsp; ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; mirror-0&nbsp; ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; &nbsp; sdb&nbsp; &nbsp; &nbsp;ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; &nbsp; sdc&nbsp; &nbsp; &nbsp;ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br /><br />errors: No known data errors<br /><br />&nbsp; pool: zfstest2<br />&nbsp;state: ONLINE<br />config:<br /><br />&nbsp; &nbsp; NAME&nbsp; &nbsp; &nbsp; &nbsp; STATE&nbsp; &nbsp; &nbsp;READ WRITE CKSUM<br />&nbsp; &nbsp; zfstest2&nbsp; &nbsp; ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; mirror-0&nbsp; ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; &nbsp; sdd&nbsp; &nbsp; &nbsp;ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; &nbsp; sde&nbsp; &nbsp; &nbsp;ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br /><br />errors: No known data errors<br /><br />&nbsp; pool: zfstest3<br />&nbsp;state: ONLINE<br />config:<br /><br />&nbsp; &nbsp; NAME&nbsp; &nbsp; &nbsp; &nbsp; STATE&nbsp; &nbsp; &nbsp;READ WRITE CKSUM<br />&nbsp; &nbsp; zfstest3&nbsp; &nbsp; ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; mirror-0&nbsp; ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; &nbsp; sdf&nbsp; &nbsp; &nbsp;ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; &nbsp; sdg&nbsp; &nbsp; &nbsp;ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br /><br />errors: No known data errors<br /><br />&nbsp; pool: zfstest4<br />&nbsp;state: ONLINE<br />config:<br /><br />&nbsp; &nbsp; NAME&nbsp; &nbsp; &nbsp; &nbsp; STATE&nbsp; &nbsp; &nbsp;READ WRITE CKSUM<br />&nbsp; &nbsp; zfstest4&nbsp; &nbsp; ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; mirror-0&nbsp; ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; &nbsp; sdh&nbsp; &nbsp; &nbsp;ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; &nbsp; sdi&nbsp; &nbsp; &nbsp;ONLINE&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp;0<br /><br />errors: No known data errors</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">В ZFS доступно несколько алгоритмов сжатия: lz4, gzip (с уровнями сжатия от 1 до 9), lzjb и zle. Настроим разные алгоритмы сжатия в каждой файловой системе:</span></span></p>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">Алгоритм lz4: </span><em><span style="font-weight: 400;">zfs set compression=lz4 zfstest1</span></em></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Алгоритм gzip: </span><em><span style="font-weight: 400;">zfs set compression=gzip-9 zfstest2</span></em></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Алгоритм lzjb: </span><em><span style="font-weight: 400;">zfs set compression=lzjb zfstest3</span></em></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Алгоритм zle: </span><em><span style="font-weight: 400;">zfs set compression=zle zfstest4</span></em></li>
</ul>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Видим, что на всех пулах разные алгоритмы (zfs get all | grep compression)</span></span></p>
<img width="669" height="236" alt="изображение" src="https://github.com/user-attachments/assets/be7a4415-c88b-4edf-9431-daa50e02d034" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Скопируем один и тот же файл во все пулы (пусть это будет файл /var/log/dpkg.log):</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">for i in $(seq 1 4); do cp /var/log/dpkg.log /zfstest$i; done</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Проверим, что файл лежит во всех пулах (ls -l /zfstest*): </span></span></p>
<img width="802" height="421" alt="изображение" src="https://github.com/user-attachments/assets/889d84f1-9bf5-4743-9e9e-e0b16dfcef38" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Видим, что оптимальный алгоритм сжатия (68 против 122, 129 и 754) настроен в пуле zfstest2 (это gzip-9).</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Посмотрим, сколько места занимает этот файл в разных пулах и проверим степень сжатия файлов:</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">zfs list</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">zfs get all | grep compressratio | grep -v ref</span></span></p>
<img width="682" height="267" alt="изображение" src="https://github.com/user-attachments/assets/09e7ad4e-cd67-4b60-bbf4-b7db9550ea6a" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Действительно, лучший алгоритм сжатия настроен в пуле <strong>zfstest2</strong> - это <strong>gzip-9</strong>.</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">2) Определение настроек пула.</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Скачиваем архив в домашний каталог:</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">wget -O archive.tar.gz --no-check-certificate 'https://drive.usercontent.google.com/download?id=1MvrcEp-WgAQe57aDEzxSRalPAwbNN1Bb&export=download'</span></span></p>
<img width="1093" height="355" alt="изображение" src="https://github.com/user-attachments/assets/9dc1b67d-a71b-4f41-ac96-6c323630861a" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Распаковываем (tar -xzvf archive.tar.gz):</span></span></p>
<img width="462" height="129" alt="изображение" src="https://github.com/user-attachments/assets/ca44305c-1ca3-4e8e-a1e1-168db3959e35" />
<img width="534" height="120" alt="изображение" src="https://github.com/user-attachments/assets/e00e35af-f7a4-4370-87c4-c8e3dcc7114f" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Проверим, возможно ли импортировать данный каталог в пул:</span></span></p>
<img width="823" height="359" alt="изображение" src="https://github.com/user-attachments/assets/4fc7fafc-d295-4ece-b466-eafc95db7f65" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">The pool can be imported using its name or numeric identifier, то есть можно по имени или id. Это зеркало (RAID1). Импортируем (zpool import -d zpoolexport/ otus) и смотрим статус (zpool status):</span></span></p>
<img width="806" height="403" alt="изображение" src="https://github.com/user-attachments/assets/7b3ee5b8-c831-491c-b8f9-12bbc1651fbf" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Далее нам нужно определить настройки:</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">zpool get all otus</span></span></p>
<p>root@training:~# zpool get all otus<br />NAME&nbsp; PROPERTY&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;VALUE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SOURCE<br />otus&nbsp; size&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;480M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; capacity&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0%&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; altroot&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; health&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ONLINE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; guid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6554193320433390805&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; version&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; bootfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; delegation&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;on&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; autoreplace&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; cachefile&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; failmode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wait&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; listsnapshots&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; autoexpand&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; dedupratio&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.00x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; free&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;478M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; allocated&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.09M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; readonly&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; ashift&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; comment&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; expandsize&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; freeing&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; fragmentation&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0%&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; leaked&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; multihost&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; checkpoint&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; load_guid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9289359897864495358&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; autotrim&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; compatibility&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; bcloneused&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; bclonesaved&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; bcloneratio&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.00x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; feature@async_destroy&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@empty_bpobj&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; active&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@lz4_compress&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;active&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@multi_vdev_crash_dump&nbsp; enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@spacemap_histogram&nbsp; &nbsp; &nbsp;active&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@enabled_txg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; active&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@hole_birth&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;active&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@extensible_dataset&nbsp; &nbsp; &nbsp;active&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@embedded_data&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; active&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@bookmarks&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@filesystem_limits&nbsp; &nbsp; &nbsp; enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@large_blocks&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@large_dnode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@sha512&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@skein&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@edonr&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@userobj_accounting&nbsp; &nbsp; &nbsp;active&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@encryption&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@project_quota&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; active&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@device_removal&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@obsolete_counts&nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@zpool_checkpoint&nbsp; &nbsp; &nbsp; &nbsp;enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@spacemap_v2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; active&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@allocation_classes&nbsp; &nbsp; &nbsp;enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@resilver_defer&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@bookmark_v2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; feature@redaction_bookmarks&nbsp; &nbsp; disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@redacted_datasets&nbsp; &nbsp; &nbsp; disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@bookmark_written&nbsp; &nbsp; &nbsp; &nbsp;disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@log_spacemap&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@livelist&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@device_rebuild&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@zstd_compress&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@draid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@zilsaxattr&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@head_errlog&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@blake3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@block_cloning&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; feature@vdev_zaps_v2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;disabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />root@training:~#&nbsp;<br /><br /></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Запрос сразу всех параметров файловой системы: zfs get all otus</span></span></p>
<p>root@training:~# zfs get all otus<br />NAME&nbsp; PROPERTY&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VALUE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SOURCE<br />otus&nbsp; type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; creation&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Пт мая 15&nbsp; 4:00 2020&nbsp; -<br />otus&nbsp; used&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.04M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; available&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;350M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; referenced&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 24K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; compressratio&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.00x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; mounted&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;yes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; quota&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; reservation&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; recordsize&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 128K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; mountpoint&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /otus&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; sharenfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; checksum&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sha256&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local<br />otus&nbsp; compression&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;zle&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local<br />otus&nbsp; atime&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;on&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; devices&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;on&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; exec&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; on&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; setuid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; on&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; readonly&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; zoned&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; snapdir&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hidden&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; aclmode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;discard&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; aclinherit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; restricted&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; createtxg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; canmount&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; on&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; xattr&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;on&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; copies&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; version&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; utf8only&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; normalization&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; casesensitivity&nbsp; &nbsp; &nbsp; &nbsp;sensitive&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; vscan&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; nbmand&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; sharesmb&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; refquota&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; refreservation&nbsp; &nbsp; &nbsp; &nbsp; none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; guid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14592242904030363272&nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; primarycache&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; all&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; secondarycache&nbsp; &nbsp; &nbsp; &nbsp; all&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; usedbysnapshots&nbsp; &nbsp; &nbsp; &nbsp;0B&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; usedbydataset&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;24K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; usedbychildren&nbsp; &nbsp; &nbsp; &nbsp; 2.01M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; usedbyrefreservation&nbsp; 0B&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; logbias&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;latency&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; objsetid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 54&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />otus&nbsp; dedup&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; mlslabel&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; sync&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; standard&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; dnodesize&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;legacy&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; refcompressratio&nbsp; &nbsp; &nbsp; 1.00x&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; written&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;24K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; logicalused&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1020K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; logicalreferenced&nbsp; &nbsp; &nbsp;12K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -<br />otus&nbsp; volmode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; filesystem_limit&nbsp; &nbsp; &nbsp; none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; snapshot_limit&nbsp; &nbsp; &nbsp; &nbsp; none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; filesystem_count&nbsp; &nbsp; &nbsp; none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; snapshot_count&nbsp; &nbsp; &nbsp; &nbsp; none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; snapdev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hidden&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; acltype&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; context&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; fscontext&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; defcontext&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; rootcontext&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; relatime&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; on&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; redundant_metadata&nbsp; &nbsp; all&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; overlay&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;on&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; encryption&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; off&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; keylocation&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; keyformat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default<br />otus&nbsp; pbkdf2iters&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />otus&nbsp; special_small_blocks&nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default<br />root@training:~#&nbsp;<br /><br /></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;"><strong>!Почему-то в методичке https://docs.google.com/document/d/1xursgUsGDVTLh4B_r0XGw_flPzd5lSJ0nfMFL-HQmFs/edit?tab=t.0 вместо вывода zfs get all otus скопирован вывод zpool get all otus. Или я что-то путаю? Вот даже скрин:</strong></span></span></p>
<img width="806" height="707" alt="изображение" src="https://github.com/user-attachments/assets/a19f090d-a433-4299-ab5d-e95f8da89b19" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Можно уточнить конкретный параметр, например:</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">zfs get compression otus</span></span></p>
<img width="451" height="88" alt="изображение" src="https://github.com/user-attachments/assets/285c32b5-5ae6-48f4-9626-90183c40dc03" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Используется алгоритм сжатия zle.</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">zfs get available otus</span></span></p>
<img width="451" height="88" alt="изображение" src="https://github.com/user-attachments/assets/a3bd9c0d-a109-43fb-9a5f-9f89d0d29850" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Свободно 350 MB.</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">3) Работа со снапшотом, поиск сообщения от преподавателя.</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Скачаем файл по ссылке:</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">wget -O otus_task2.file --no-check-certificate https://drive.usercontent.google.com/download?id=1wgxjih8YZ-cqLqaZVa0lA3h3Y029c3oI&export=download</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">(wget почему-то повис, но файл скачал)</span></span></p>
<img width="606" height="238" alt="изображение" src="https://github.com/user-attachments/assets/ff2f4229-6d9c-4b6f-b276-ce4e07cf89c4" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Восстановим файловую систему из снапшота:</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">zfs receive otus/test@today < otus_task2.file</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Далее, ищем в каталоге /otus/test файл с именем “secret_message”:</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">find /otus/test -name "secret_message"</span></span></p>
<img width="640" height="97" alt="изображение" src="https://github.com/user-attachments/assets/5ec41b94-d1cd-44f4-b3da-bd778da28f98" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Смотрим содержимое найденного файла:</span></span></p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">cat /otus/test/task1/file_mess/secret_message</span></span></p>
  <img width="640" height="50" alt="изображение" src="https://github.com/user-attachments/assets/861fea34-8d23-4b99-a9b0-9f7a0aaba60e" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Это ссылка. Открывается:</span></span></p>
<img width="1699" height="893" alt="изображение" src="https://github.com/user-attachments/assets/79ce8827-dc5b-4bbf-92e4-d94e7ac1658d" />
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify">&nbsp;</p>
<p style="line-height: 108%; margin-bottom: 0.28cm;" align="justify"><span style="font-family: Roboto, serif;">Задание завершено.</span></span></p>
